---
alwaysApply: true
---

# 高效编辑规则

## 代码修改原则

### 1. 最小化修改

- 优先使用 `search_replace` 工具进行精确的局部修改
- 避免重写整个文件，除非是全新的功能实现
- 对于小的逻辑调整，只修改相关行或函数

### 2. 修改策略

- **字段修改**: 只修改需要改变的字段或属性
- **逻辑调整**: 只修改相关的条件判断或函数调用
- **错误修复**: 只修改出错的具体代码段
- **功能增强**: 在现有结构基础上添加新功能

### 3. 工具使用优先级

1. `search_replace` - 用于精确的文本替换
2. `edit_file` - 用于较大的代码块修改
3. 重写文件 - 仅在完全重构时使用

### 4. 代码质量检查

- 修改后运行 `go vet ./...` 检查代码质量
- 确保修改不会破坏现有功能
- 保持代码风格一致性

### 5. 用户沟通

- 在开始大规模修改前，先确认修改计划
- 对于小的修改，直接执行并说明变更内容
- 避免不必要的重复工作
